!function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{GCp2:function(o,n,i){"use strict";i.r(n),i.d(n,"AdminModule",(function(){return P}));var r=i("ofXK"),c=i("tyNb"),a=i("3Pt+"),u=i("fXoL"),s=i("mB2O"),d=i("IYfF"),b=i("XhcP"),l=i("bTqV"),p=i("Wp6s");function m(t,e){1&t&&(u.Ob(0,"div"),u.nc(1," Description is required "),u.Nb())}function f(t,e){1&t&&(u.Ob(0,"div"),u.nc(1," Description must be at least 4 characters "),u.Nb())}function g(t,e){1&t&&(u.Ob(0,"div"),u.nc(1," Description must be at least 5 characters long "),u.Nb())}function h(t,e){if(1&t&&(u.Ob(0,"div",15),u.mc(1,m,2,0,"div",16),u.mc(2,f,2,0,"div",16),u.mc(3,g,2,0,"div",16),u.Nb()),2&t){var o=u.Xb();u.zb(1),u.ac("ngIf",o.productForm.get("description").errors.required),u.zb(1),u.ac("ngIf",o.productForm.get("description").errors.minlength),u.zb(1),u.ac("ngIf",o.productForm.get("description").errors.maxlength)}}function v(t,e){if(1&t){var o=u.Pb();u.Ob(0,"div",17),u.Ob(1,"mat-card",18),u.Ob(2,"mat-card-header"),u.Ob(3,"mat-card-title"),u.nc(4),u.Nb(),u.Ob(5,"mat-card-subtitle"),u.nc(6),u.Nb(),u.Nb(),u.Kb(7,"img",19),u.Ob(8,"mat-card-content"),u.Ob(9,"p"),u.nc(10),u.Nb(),u.Nb(),u.Ob(11,"mat-card-actions"),u.Ob(12,"button",20),u.Vb("click",(function(){u.ec(o);var t=e.$implicit,n=u.Xb(),i=u.dc(2);return n.onEdit(t),i.toggle()})),u.nc(13,"Edit"),u.Nb(),u.Ob(14,"button",20),u.Vb("click",(function(){u.ec(o);var t=e.$implicit;return u.Xb().onDelete(t.id)})),u.nc(15,"Delete"),u.Nb(),u.Nb(),u.Nb(),u.Nb()}if(2&t){var n=e.$implicit;u.zb(4),u.oc(n.title),u.zb(2),u.pc("",n.price," $ "),u.zb(1),u.bc("src",n.imageUrl,u.fc),u.zb(3),u.pc(" ",n.description," ")}}var O,y,N,x=[{path:"",component:(O=function(){function o(e,n,i){t(this,o),this.formBuilder=e,this.productService=n,this.authService=i,this.products=[],this.productForm=this.formBuilder.group({description:["",[a.m.required,a.m.minLength(3)]],imageUrl:[""],ownerId:[""],price:[""],title:[""]})}var n,i,r;return n=o,(i=[{key:"loadProducts",value:function(){var t=this;this.products=[],this.prodGetSubs=this.productService.getProducts(this.authService.getToken()).subscribe((function(e){Object.entries(e).map((function(e){return t.products.push(Object.assign({id:e[0]},e[1]))}))}))}},{key:"ngOnInit",value:function(){this.loadProducts()}},{key:"ngOnDestroy",value:function(){this.prodSubs.unsubscribe(),this.prodGetSubs.unsubscribe()}},{key:"onEviar2",value:function(){console.log("Form group: ",this.productForm.value),this.prodSubs=this.productService.addProducts(this.productForm.value).subscribe((function(t){console.log("RESP: ",t)}))}},{key:"onDelete",value:function(t){var e=this;this.productService.deleteProducts(t).subscribe((function(t){console.log("RESPONSE",t),e.loadProducts()}),(function(t){console.log("Error: ",t)}))}},{key:"onEdit",value:function(t){this.productForm.patchValue(t),this.idEdit=t.id}},{key:"onUpdate",value:function(){var t=this;this.productService.updateProducts(this.idEdit,this.productForm.value).subscribe((function(e){console.log("RESPONSE",e),t.loadProducts()}),(function(t){console.log("Error: ",t)}))}}])&&e(n.prototype,i),r&&e(n,r),o}(),O.\u0275fac=function(t){return new(t||O)(u.Jb(a.b),u.Jb(s.a),u.Jb(d.a))},O.\u0275cmp=u.Db({type:O,selectors:[["ng-component"]],decls:19,vars:4,consts:[["autosize","",2,"width","100%","height","600px"],["mode","side",1,"example-sidenav",3,"position"],["drawer",""],[2,"display","flex","flex-direction","column",3,"formGroup"],["formControlName","description","type","text"],["class","alert alert-danger",4,"ngIf"],["formControlName","imageUrl","type","text"],["formControlName","ownerId","type","text"],["formControlName","price","type","text"],["formControlName","title","type","text"],[3,"click"],[1,"example-sidenav-content"],["type","button","mat-button","",3,"click"],[1,"row",2,"padding","20px"],["class"," col-12 col-sm-12 col-md-6 col-lg-3 col-xl-3","style","padding: 50px; display: flex; justify-content: center",4,"ngFor","ngForOf"],[1,"alert","alert-danger"],[4,"ngIf"],[1,"col-12","col-sm-12","col-md-6","col-lg-3","col-xl-3",2,"padding","50px","display","flex","justify-content","center"],[1,"example-card"],["mat-card-image","","alt","Photo of a Shiba Inu",3,"src"],["mat-button","",3,"click"]],template:function(t,e){if(1&t){var o=u.Pb();u.Ob(0,"mat-drawer-container",0),u.Ob(1,"mat-drawer",1,2),u.Ob(3,"form",3),u.Kb(4,"input",4),u.mc(5,h,4,3,"div",5),u.Kb(6,"input",6),u.Kb(7,"input",7),u.Kb(8,"input",8),u.Kb(9,"input",9),u.Nb(),u.Ob(10,"button",10),u.Vb("click",(function(){return e.onEviar2()})),u.nc(11,"Create"),u.Nb(),u.Ob(12,"button",10),u.Vb("click",(function(){return e.onUpdate()})),u.nc(13,"Update"),u.Nb(),u.Nb(),u.Ob(14,"div",11),u.Ob(15,"button",12),u.Vb("click",(function(){return u.ec(o),u.dc(2).toggle()})),u.nc(16," Toggle sidenav "),u.Nb(),u.Nb(),u.Ob(17,"div",13),u.mc(18,v,16,4,"div",14),u.Nb(),u.Nb()}2&t&&(u.zb(1),u.ac("position","end"),u.zb(2),u.ac("formGroup",e.productForm),u.zb(2),u.ac("ngIf",e.productForm.get("description").invalid&&(e.productForm.get("description").touched||e.productForm.get("description").dirty)),u.zb(13),u.ac("ngForOf",e.products))},directives:[b.b,b.a,a.n,a.h,a.d,a.a,a.g,a.c,r.i,l.a,r.h,p.a,p.d,p.h,p.g,p.e,p.c,p.b],styles:["[_nghost-%COMP%]{height:100%;width:100%}.example-card[_ngcontent-%COMP%]{max-width:300px}.example-header-image[_ngcontent-%COMP%]{background-image:url(https://material.angular.io/assets/img/examples/shiba1.jpg);background-size:cover}"]}),O)}],k=((y=function e(){t(this,e)}).\u0275mod=u.Hb({type:y}),y.\u0275inj=u.Gb({factory:function(t){return new(t||y)},imports:[[c.d.forChild(x)],c.d]}),y),w=i("kmnG"),P=((N=function e(){t(this,e)}).\u0275mod=u.Hb({type:N}),N.\u0275inj=u.Gb({factory:function(t){return new(t||N)},providers:[s.a],imports:[[r.b,k,a.k,b.c,l.b,p.f,w.c]]}),N)}}])}();
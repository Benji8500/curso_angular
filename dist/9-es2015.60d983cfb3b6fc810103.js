(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{GCp2:function(t,e,o){"use strict";o.r(e),o.d(e,"AdminModule",(function(){return v}));var r=o("ofXK"),c=o("tyNb"),i=o("3Pt+"),n=o("fXoL"),s=o("mB2O"),d=o("XhcP"),a=o("bTqV"),b=o("Wp6s");function u(t,e){1&t&&(n.Ob(0,"div"),n.nc(1," Description is required "),n.Nb())}function l(t,e){1&t&&(n.Ob(0,"div"),n.nc(1," Description must be at least 4 characters "),n.Nb())}function p(t,e){1&t&&(n.Ob(0,"div"),n.nc(1," Description must be at least 5 characters long "),n.Nb())}function m(t,e){if(1&t&&(n.Ob(0,"div",15),n.mc(1,u,2,0,"div",16),n.mc(2,l,2,0,"div",16),n.mc(3,p,2,0,"div",16),n.Nb()),2&t){const t=n.Xb();n.zb(1),n.ac("ngIf",t.productForm.get("description").errors.required),n.zb(1),n.ac("ngIf",t.productForm.get("description").errors.minlength),n.zb(1),n.ac("ngIf",t.productForm.get("description").errors.maxlength)}}function g(t,e){if(1&t){const t=n.Pb();n.Ob(0,"div",17),n.Ob(1,"mat-card",18),n.Ob(2,"mat-card-header"),n.Ob(3,"mat-card-title"),n.nc(4),n.Nb(),n.Ob(5,"mat-card-subtitle"),n.nc(6),n.Nb(),n.Nb(),n.Kb(7,"img",19),n.Ob(8,"mat-card-content"),n.Ob(9,"p"),n.nc(10),n.Nb(),n.Nb(),n.Ob(11,"mat-card-actions"),n.Ob(12,"button",20),n.Vb("click",(function(){n.ec(t);const o=e.$implicit,r=n.Xb(),c=n.dc(2);return r.onEdit(o),c.toggle()})),n.nc(13,"Edit"),n.Nb(),n.Ob(14,"button",20),n.Vb("click",(function(){n.ec(t);const o=e.$implicit;return n.Xb().onDelete(o.id)})),n.nc(15,"Delete"),n.Nb(),n.Nb(),n.Nb(),n.Nb()}if(2&t){const t=e.$implicit;n.zb(4),n.oc(t.title),n.zb(2),n.pc("",t.price," $ "),n.zb(1),n.bc("src",t.imageUrl,n.fc),n.zb(3),n.pc(" ",t.description," ")}}const f=[{path:"",component:(()=>{class t{constructor(t,e){this.formBuilder=t,this.productService=e,this.products=[],this.productForm=this.formBuilder.group({description:["",[i.m.required,i.m.minLength(3)]],imageUrl:[""],ownerId:[""],price:[""],title:[""]})}loadProducts(){this.products=[],this.prodGetSubs=this.productService.getProducts().subscribe(t=>{Object.entries(t).map(t=>this.products.push(Object.assign({id:t[0]},t[1])))})}ngOnInit(){this.loadProducts()}ngOnDestroy(){this.prodSubs.unsubscribe(),this.prodGetSubs.unsubscribe()}onEviar2(){console.log("Form group: ",this.productForm.value),this.prodSubs=this.productService.addProducts(this.productForm.value).subscribe(t=>{console.log("RESP: ",t)})}onDelete(t){this.productService.deleteProducts(t).subscribe(t=>{console.log("RESPONSE",t),this.loadProducts()},t=>{console.log("Error: ",t)})}onEdit(t){this.productForm.patchValue(t),this.idEdit=t.id}onUpdate(){this.productService.updateProducts(this.idEdit,this.productForm.value).subscribe(t=>{console.log("RESPONSE",t),this.loadProducts()},t=>{console.log("Error: ",t)})}}return t.\u0275fac=function(e){return new(e||t)(n.Jb(i.b),n.Jb(s.a))},t.\u0275cmp=n.Db({type:t,selectors:[["ng-component"]],decls:19,vars:4,consts:[["autosize","",2,"width","100%","height","600px"],["mode","side",1,"example-sidenav",3,"position"],["drawer",""],[2,"display","flex","flex-direction","column",3,"formGroup"],["formControlName","description","type","text"],["class","alert alert-danger",4,"ngIf"],["formControlName","imageUrl","type","text"],["formControlName","ownerId","type","text"],["formControlName","price","type","text"],["formControlName","title","type","text"],[3,"click"],[1,"example-sidenav-content"],["type","button","mat-button","",3,"click"],[1,"row",2,"padding","20px"],["class"," col-12 col-sm-12 col-md-6 col-lg-3 col-xl-3","style","padding: 50px; display: flex; justify-content: center",4,"ngFor","ngForOf"],[1,"alert","alert-danger"],[4,"ngIf"],[1,"col-12","col-sm-12","col-md-6","col-lg-3","col-xl-3",2,"padding","50px","display","flex","justify-content","center"],[1,"example-card"],["mat-card-image","","alt","Photo of a Shiba Inu",3,"src"],["mat-button","",3,"click"]],template:function(t,e){if(1&t){const t=n.Pb();n.Ob(0,"mat-drawer-container",0),n.Ob(1,"mat-drawer",1,2),n.Ob(3,"form",3),n.Kb(4,"input",4),n.mc(5,m,4,3,"div",5),n.Kb(6,"input",6),n.Kb(7,"input",7),n.Kb(8,"input",8),n.Kb(9,"input",9),n.Nb(),n.Ob(10,"button",10),n.Vb("click",(function(){return e.onEviar2()})),n.nc(11,"Create"),n.Nb(),n.Ob(12,"button",10),n.Vb("click",(function(){return e.onUpdate()})),n.nc(13,"Update"),n.Nb(),n.Nb(),n.Ob(14,"div",11),n.Ob(15,"button",12),n.Vb("click",(function(){return n.ec(t),n.dc(2).toggle()})),n.nc(16," Toggle sidenav "),n.Nb(),n.Nb(),n.Ob(17,"div",13),n.mc(18,g,16,4,"div",14),n.Nb(),n.Nb()}2&t&&(n.zb(1),n.ac("position","end"),n.zb(2),n.ac("formGroup",e.productForm),n.zb(2),n.ac("ngIf",e.productForm.get("description").invalid&&(e.productForm.get("description").touched||e.productForm.get("description").dirty)),n.zb(13),n.ac("ngForOf",e.products))},directives:[d.b,d.a,i.n,i.h,i.d,i.a,i.g,i.c,r.i,a.a,r.h,b.a,b.d,b.h,b.g,b.e,b.c,b.b],styles:["[_nghost-%COMP%]{height:100%;width:100%}.example-card[_ngcontent-%COMP%]{max-width:300px}.example-header-image[_ngcontent-%COMP%]{background-image:url(https://material.angular.io/assets/img/examples/shiba1.jpg);background-size:cover}"]}),t})()}];let h=(()=>{class t{}return t.\u0275mod=n.Hb({type:t}),t.\u0275inj=n.Gb({factory:function(e){return new(e||t)},imports:[[c.d.forChild(f)],c.d]}),t})();var O=o("kmnG");let v=(()=>{class t{}return t.\u0275mod=n.Hb({type:t}),t.\u0275inj=n.Gb({factory:function(e){return new(e||t)},providers:[s.a],imports:[[r.b,h,i.k,d.c,a.b,b.f,O.c]]}),t})()}}]);